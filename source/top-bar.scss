@use "common";

@mixin root {
  display: flex;
  flex-direction: row;

  max-width: 98vw;

  font-family: var(--font-family);
  font-size: var(--font-size-base);

  a {
    color: var(--color-text);
  }

  .toolbarIcon div {
    color: var(--color-text);
  }

  > div:first-child {
    overflow: visible !important;
    display: flex;
    flex-direction: column;

    width: 9em;
    min-width: initial !important;
    max-width: initial !important;
    padding-left: 0 !important;

    text-overflow: initial !important;

    > span {
      font-size: calc(var(--font-size-base) / 1.6) !important;
      font-style: italic;
      line-height: calc(var(--font-size-base) / 1.6 / 2) !important;
      text-align: left;
      text-wrap: nowrap;

      opacity: 0.6;

      &.gameTitle {
        font-size: calc(var(--font-size-base) * 1.5) !important;
        font-style: normal;
        line-height: calc(var(--font-size-base) * 1.5) !important;
        color: var(--color-primary);
        text-align: left;

        opacity: 1;
      }

      a.copyright {
        font-size: calc(var(--font-size-base) / 1.6);
        color: var(--color-text);
      }
    }

    > a {
      display: none;
    }

    #motd {
      display: none;
    }

    // Game version selector.
    > span:last-child {
      display: none;
    }
  }

  #devPanel {
    display: none !important;
    padding-left: 0 !important;
    font-size: initial !important;
  }

  #headerLinks {
    display: flex;
    flex: 1;
    flex-direction: column;
    justify-content: space-around;

    #autosaveTooltip {
      display: none;
    }

    #saveTooltip {
      display: none;
    }

    #headerToolbar {
      display: flex;
      flex-direction: column;
      padding-top: 0 !important;
      font-size: initial !important;

      > :first-child::before {
        content: "";
      }

      .icons-container {
        display: flex;
        flex: 1;
        flex-direction: row;
        justify-content: space-between;

        .toolbarIcon {
          > div {
            // Equal to the size of the embedded SVGs.
            line-height: 2vw;
          }
        }

        // MOTD button
        .toolbarIcon.null {
          display: none;
        }

        // KGNet Login button
        .toolbarIcon.undefined span.kgnet-login-link {
          color: var(--color-text);
          animation: none;
        }

        .toolbarIcon.pollutionIcon,
        .toolbarIcon.happiness,
        .toolbarIcon.energy,
        .toolbarIcon.sorrow {
          display: flex;
          padding-left: var(--font-size-base);
          background-repeat: no-repeat;
          background-size: contain;
        }

        .toolbarIcon.pollutionIcon {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 -960 960 960' width='24px' fill='%23ffffff'%3E%3Cpath d='M440-360q-17 0-28.5-11.5T400-400v-160q0-17 11.5-28.5T440-600h120q17 0 28.5 11.5T600-560v160q0 17-11.5 28.5T560-360H440Zm20-60h80v-120h-80v120Zm-300 60q-17 0-28.5-11.5T120-400v-160q0-17 11.5-28.5T160-600h120q17 0 28.5 11.5T320-560v40h-60v-20h-80v120h80v-20h60v40q0 17-11.5 28.5T280-360H160Zm520 120v-100q0-17 11.5-28.5T720-380h80v-40H680v-60h140q17 0 28.5 11.5T860-440v60q0 17-11.5 28.5T820-340h-80v40h120v60H680Z'/%3E%3C/svg%3E");
        }

        .toolbarIcon.happiness {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 -960 960 960' width='24px' fill='%23ffffff'%3E%3Cpath d='M620-520q25 0 42.5-17.5T680-580q0-25-17.5-42.5T620-640q-25 0-42.5 17.5T560-580q0 25 17.5 42.5T620-520Zm-280 0q25 0 42.5-17.5T400-580q0-25-17.5-42.5T340-640q-25 0-42.5 17.5T280-580q0 25 17.5 42.5T340-520Zm140 260q68 0 123.5-38.5T684-400H276q25 63 80.5 101.5T480-260Zm0 180q-83 0-156-31.5T197-197q-54-54-85.5-127T80-480q0-83 31.5-156T197-763q54-54 127-85.5T480-880q83 0 156 31.5T763-763q54 54 85.5 127T880-480q0 83-31.5 156T763-197q-54 54-127 85.5T480-80Zm0-400Zm0 320q134 0 227-93t93-227q0-134-93-227t-227-93q-134 0-227 93t-93 227q0 134 93 227t227 93Z'/%3E%3C/svg%3E");
        }

        .toolbarIcon.energy {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='24px' viewBox='0 -960 960 960' width='24px' fill='%23ffffff'%3E%3Cpath d='m280-80 160-300-320-40 480-460h80L520-580l320 40L360-80h-80Zm222-247 161-154-269-34 63-117-160 154 268 33-63 118Zm-22-153Z'/%3E%3C/svg%3E");
        }

        .toolbarIcon.sorrow {
          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='48px' viewBox='0 -960 960 960' width='48px' fill='%23e3e3e3'%3E%3Cpath d='M479-208q16 0 24.5-5.5T512-230q0-11-8.5-17t-25.5-6q-42 0-85.5-26.5T337-373q-2-9-9-14.5t-15-5.5q-11 0-17 8.5t-4 17.5q15 84 71 121.5T479-208Zm1 128q-137 0-228.5-94T160-408q0-100 79.5-217.5T480-880q161 137 240.5 254.5T800-408q0 140-91.5 234T480-80Zm0-60q112 0 186-76.5T740-408q0-79-66.5-179.5T480-800Q353-688 286.5-587.5T220-408q0 115 74 191.5T480-140Zm0-340Z'/%3E%3C/svg%3E");

          &.max div {
            color: var(--color-text) !important;
          }
        }

        .toolbarIcon.undefined {
          display: flex;

          width: var(--font-size-base);

          background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='48px' viewBox='0 -960 960 960' width='48px' fill='%23e3e3e3'%3E%3Cpath d='m611-323-43-43 114-113-114-113 43-43 113 114 113-114 43 43-114 113 114 113-43 43-113-114-113 114Zm-491-37v-240h160l200-200v640L280-360H120Zm300-288L307-540H180v120h127l113 109v-337ZM311-481Z'/%3E%3C/svg%3E");
          background-repeat: no-repeat;
          background-size: contain;

          .kgnet-login-link {
            display: none;
          }

          &:has(.status-indicator-offline) {
            background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='48px' viewBox='0 -960 960 960' width='48px' fill='%23e3e3e3'%3E%3Cpath d='m611-323-43-43 114-113-114-113 43-43 113 114 113-114 43 43-114 113 114 113-43 43-113-114-113 114Zm-491-37v-240h160l200-200v640L280-360H120Zm300-288L307-540H180v120h127l113 109v-337ZM311-481Z'/%3E%3C/svg%3E");
          }
        }
      }
    }
  }

  .links-block {
    display: flex !important;
    align-items: center;
    padding-top: 0 !important;

    // Hide separators.
    font-size: 0;

    #save-link {
      width: var(--font-size-base);
      height: var(--font-size-base);

      line-height: var(--font-size-base);
      color: transparent;

      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='48px' viewBox='0 -960 960 960' width='48px' fill='%23e3e3e3'%3E%3Cpath d='m611-323-43-43 114-113-114-113 43-43 113 114 113-114 43 43-114 113 114 113-43 43-113-114-113 114Zm-491-37v-240h160l200-200v640L280-360H120Zm300-288L307-540H180v120h127l113 109v-337ZM311-481Z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-size: cover;
    }

    #options-link {
      position: fixed;
      right: 0;
      bottom: 0;

      display: inline-block;

      width: var(--font-size-base);
      height: var(--font-size-base);

      font-size: 0;
      line-height: var(--font-size-base);

      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' height='48px' viewBox='0 -960 960 960' width='48px' fill='%23e3e3e3'%3E%3Cpath d='m611-323-43-43 114-113-114-113 43-43 113 114 113-114 43 43-114 113 114 113-43 43-113-114-113 114Zm-491-37v-240h160l200-200v640L280-360H120Zm300-288L307-540H180v120h127l113 109v-337ZM311-481Z'/%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-size: cover;
    }

    #reset-link,
    #wipe-link,
    #getTheApp-link {
      display: none;
    }

    a[href="changelog.txt"] {
      position: absolute;
      top: calc(var(--font-size-base) * 1);
      left: calc(var(--font-size-base) * 7);

      padding: 0 calc(var(--font-size-base) * 0.2);
      border: 1px solid var(--color-primary);
      border-radius: calc(var(--font-size-base) * 0.5);

      font-size: 0;
      color: transparent;

      background-color: var(--color-background);
      outline: 1px solid var(--color-background);

      #versionLink {
        font-size: calc(var(--font-size-base) / 2);
        color: var(--color-text);
      }
    }
  }
}
